interface HealthBarProps {
  hp: number;
  maxHp: number;
  name: string;
  isPlayer: boolean;
  avatarColor: string;
  compact?: boolean;
}

export function HealthBar({ hp, maxHp, name, isPlayer, avatarColor, compact = false }: HealthBarProps) {
  const percentage = Math.max(0, (hp / maxHp) * 100);
  
  return (
    <div className={`flex ${compact ? 'flex-col' : 'items-center'} gap-2`}>
      {compact ? (
        <>
          <div className={`w-10 h-10 rounded-full bg-gradient-to-br ${avatarColor} flex items-center justify-center text-white font-bold text-sm`}>
            {name.charAt(0)}
          </div>
          <div className="flex-1 min-w-[120px]">
            <div className="text-xs text-white mb-1 font-bold">{name}</div>
            <div className="h-3 bg-gray-800 rounded-full overflow-hidden">
              <div 
                className={`h-full transition-all duration-300 ${
                  isPlayer ? 'bg-green-500' : 'bg-red-500'
                }`}
                style={{ width: `${percentage}%` }}
              />
            </div>
            <div className="text-xs text-gray-400 mt-1 text-right">{hp}/{maxHp}</div>
          </div>
        </>
      ) : (
        <>
          <div className={`w-12 h-12 rounded-full bg-gradient-to-br ${avatarColor} flex items-center justify-center text-white font-bold`}>
            {name.charAt(0)}
          </div>
          <div className="flex-1 min-w-[200px]">
            <div className="text-white mb-2 font-bold">{name}</div>
            <div className="h-6 bg-gray-800 rounded-full overflow-hidden">
              <div 
                className={`h-full transition-all duration-300 ${
                  isPlayer ? 'bg-green-500' : 'bg-red-500'
                }`}
                style={{ width: `${percentage}%` }}
              />
            </div>
            <div className="text-gray-400 mt-1 text-right">{hp}/{maxHp}</div>
          </div>
        </>
      )}
    </div>
  );
}
